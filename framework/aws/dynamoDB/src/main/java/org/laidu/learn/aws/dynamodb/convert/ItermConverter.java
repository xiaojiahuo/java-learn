package org.laidu.learn.aws.dynamodb.convert;

import com.amazonaws.services.dynamodbv2.model.AttributeValue;
import lombok.extern.slf4j.Slf4j;
import org.nustaq.serialization.FSTConfiguration;
import org.nustaq.serialization.serializers.FSTStringSerializer;

import java.io.*;
import java.util.HashMap;
import java.util.Map;

@Slf4j
public class ItermConverter {


    static FSTConfiguration configuration = FSTConfiguration
            .createDefaultConfiguration();

    public static byte[] serialize(Object obj){
        return configuration.asByteArray((Serializable)obj);
    }
    public static Object deserialize(byte[] sec){
        return configuration.asObject(sec);
    }

    private String data = "{update_time={S: 2017-08-11 16:27:03,}, data={M: {sms_info={L: [{M: {sms_date={S: 1502439800384,}, sms_content={S: 01058511900已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502438640184,}, sms_content={S: 所有的成功，都来自不倦的努力和奔跑。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502436147462,}, sms_content={S: 人生最重要的不是所站的位置，而是所去的方向。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502435386064,}, sms_content={S: 生命中最美的相遇，是你;岁月中最美的季节，是你！谢谢你！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502435017194,}, sms_content={S: 生命中最美的相遇，是你;岁月中最美的季节，是你！谢谢你！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502433850329,}, sms_content={S: 人生最重要的不是所站的位置，而是所去的方向。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502427481918,}, sms_content={S: 所有的成功，都来自不倦的努力和奔跑。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502415243155,}, sms_content={S: 所有的成功，都来自不倦的努力和奔跑。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502411825118,}, sms_content={S: 人生最重要的不是所站的位置，而是所去的方向。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502372345063,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502370025264,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502368913742,}, sms_content={S: 02259780459已被多位用户标记为疑似广告推销，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502367510788,}, sms_content={S: 02258303322已被多位用户标记为疑似疑似骚扰电话，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502365975737,}, sms_content={S: 02258701440已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502362947817,}, sms_content={S: 02259780473已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502340137659,}, sms_content={S: 02258965550已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502273171505,}, sms_content={S: 073188040162已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502272341553,}, sms_content={S: 073188040162已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502271513068,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502270598444,}, sms_content={S: 073188040162已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502269629859,}, sms_content={S: 073188040162已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502268718257,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502249415291,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502247448578,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502246091410,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502199175418,}, sms_content={S: 02258320057已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502197782683,}, sms_content={S: 02258307707已被多位用户标记为疑似疑似骚扰电话，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502195175687,}, sms_content={S: 02258326678已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502192161108,}, sms_content={S: 一声问候、一个愿望、一串祝福，望你心中常有快乐涌现。,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502164047066,}, sms_content={S: 02258920238已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502113140608,}, sms_content={S: 02258909463已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502112343816,}, sms_content={S: 02258307499已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502111120708,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502109018583,}, sms_content={S: 02258701498已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502107925356,}, sms_content={S: 02258320058已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502106343465,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502098199902,}, sms_content={S: 中国移动和彩印提醒您：您正在接听的电话被用户举报，请谨慎处理！,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502096098551,}, sms_content={S: 02258920236已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502071478801,}, sms_content={S: 02258701413已被多位用户标记为疑似骚扰，请谨慎接听。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10658085,}},}, {M: {sms_date={S: 1502438658271,}, sms_content={S: 现在无法接听。能稍后再打给我吗？,}, sms_type={S: 1,}, sms_number={S: 15154870097,}},}, {M: {sms_date={S: 1502436718194,}, sms_content={S: 【话费流量提醒】您好！截至08月11日15时31分，您当月已消费：39.86元，您的话费余额为：49.84元。已使用移动数据流量9G721.29M。其中国内流量剩余500.00M，省内流量剩余7G826.71M，回复666可调整您的话费提醒频次。缴费、查询、办理移动业务，请关注“中国移动10086”微信公众号，随时随地为您提供服务。【中国移动】,}, sms_type={S: 1,}, sms_number={S: 10086,}},}, {M: {sms_date={S: 1502020087954,}, sms_content={S: 好的\\uD83D\\uDC4C,}, sms_type={S: 2,}, sms_number={S: 13887941944,}},}, {M: {sms_date={S: 1502020057617,}, sms_content={S: 宁洱王朝国际KTV会所\\n\" +\n" +
            "        \"\\n\" +\n" +
            "        \"尊敬的顾客朋友，您所存的乐堡啤酒，大理V6啤酒即将到期，请近期到我公司取出，逾期后将视为作废。详情到我公司收银台咨询，谢谢您的光临。\\n\" +\n" +
            "        \",}, sms_type={S: 1,}, sms_number={S: 13887941944,}},}, {M: {sms_date={S: 1501918178306,}, sms_content={S: 和留言(语音信箱)提醒您：云南普洱的18287918126在08月05日09时36分给您来电1次。详情点击http://yyxx.10086.cn/z/hyy?ctyl8pob【中国移动和留言】,}, sms_type={S: 1,}, sms_number={S: 18287918126,}},}, {M: {sms_date={S: 1501918177421,}, sms_content={S: 和留言(语音信箱)提醒您：云南普洱的17687097403在08月04日16时51分给您来电1次，请方便时回复。【中国移动和留言】,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1501918176492,}, sms_content={S: 和留言(语音信箱)提醒您：云南普洱的17687097403在08月05日02时02分给您来电1次，请方便时回复。【中国移动和留言】,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1501810483403,}, sms_content={S: 和留言(语音信箱)提醒您：云南普洱的17687097403在08月03日23时55分给您来电1次，请方便时回复。【中国移动和留言】,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1501015355714,}, sms_content={S: 我听到你哭了,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1501015346685,}, sms_content={S: 你确定你进去啦,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084854426,}, sms_content={S: 额,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084844442,}, sms_content={S: 嗯嗯,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084831450,}, sms_content={S: 额,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084790712,}, sms_content={S: 我还没回到住处，回去到我上去,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084775835,}, sms_content={S: 好，,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084711482,}, sms_content={S: 住处,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084700176,}, sms_content={S: 你在哪里,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499084685490,}, sms_content={S: 在哪   来陪我,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499082929925,}, sms_content={S: 我走啦,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499073659572,}, sms_content={S: 和留言(语音信箱)提醒您：云南普洱的17687097403在07月03日17时20分给您来电并留言（参考摘要：今天是什么？你还不还行。） 免费拨打 1259950004 或点击链接收听留言 http://yyxx.10086.cn/z/hyy?r58ec6d7 温馨提示：参考摘要是由和留言提供的智能语音转文字服务（暂时仅支持普通话），方便您及时了解留言内容。如需继续使用该功能，请发送KZX到10658112。【中国移动和留言】,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499072000636,}, sms_content={S: 哄你，你也要给我一个机会吧，不然我怎么哄，去梦里哄你吗,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499071814191,}, sms_content={S: 嗯嗯。,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499071627512,}, sms_content={S: 哦,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499071528707,}, sms_content={S: 你都不愿意理我了，我怎么哄你，一直挂我电话，我怎么去哄你,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499071345409,}, sms_content={S: 我哄了，昨晚我一直再哄，我电话不停的打，你就是不接，罗晶告诉我你在广场，我找了五遍，要不是她说你在李晓东处睡着，昨晚我应该一直再找你,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499071256429,}, sms_content={S: 你就不会哄我么   你以前不是这样的,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499071227226,}, sms_content={S: 哦,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499066300842,}, sms_content={S: 你也是够了,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499065200798,}, sms_content={S: 什么意思,}, sms_type={S: 1,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499026716914,}, sms_content={S: 谢谢，这久你陪着我，谢谢你，让拥有你这么久，虽然不是很长，我已知足，四年之约，我不知道对你来说，还算不算数，但是我会等你，如果你不会等我，那就算我白等吧，,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1499026576504,}, sms_content={S: 分手了么，意思朋友都不可以做嘛,}, sms_type={S: 2,}, sms_number={S: 17687097403,}},}, {M: {sms_date={S: 1501810514689,}, sms_content={S: 和留言(语音信箱)提醒您：云南普洱的15125567548在08月04日08时36分给您来电1次，请方便时回复。【中国移动和留言】,}, sms_type={S: 1,}, sms_number={S: 15125567548,}},}],}},}, client_customer_id={S: BDBC3ADC7C4C40FFAD7667FECB23FA52,}, _id={S: 7f2798cfa4aea98af9936a35958394be,}, version={S: v2,}, merge_times={S: 0,}, account={S: BDBC3ADC7C4C40FFAD7667FECB23FA52,}}\"";

    public static void main(String[] args) {

        Map<String,AttributeValue> iterm = new HashMap<>();

        AttributeValue attributeValue = null;

        attributeValue = (AttributeValue) deserialize("S: 2017-08-11 16:27:03,".getBytes());
        
        log.info("'s value : {}", attributeValue);



    }
}
